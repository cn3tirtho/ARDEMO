<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AR.js Car Movement</title>
    <!-- Include A-Frame and AR.js -->
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
</head>
<body>
    <!-- AR Scene -->
    <a-scene embedded arjs="sourceType: webcam;">

        <!-- Add a marker that defines where to place the car -->
        <a-marker id="userMarker">
            <!-- Add the car model -->
            <a-entity id="car" gltf-model="url(models/car.glb)" scale="0.05 0.05 0.05" position="0 0 0"></a-entity>
        </a-marker>

        <!-- Add a camera to view the scene -->
        <a-entity camera ar-raycaster="objects: .marker"></a-entity>
    </a-scene>

    <!-- Add a button to trigger car movement -->
    <button id="goButton">Go</button>

    <!-- Include script for car movement and marker position setting -->
    <script>
        // Get the car entity
        var car = document.getElementById('car');

        // Get the marker entity
        var marker = document.getElementById('userMarker');

        // Get the go button
        var goButton = document.getElementById('goButton');

        // Add click event listener to the go button
        goButton.addEventListener('click', function() {
            // Move the car along the z-axis when the button is clicked
            car.setAttribute('animation', 'property: position; to: 0 0 -5; dur: 2000; easing: linear');
        });

        // Add a tap event listener to the AR scene
        document.querySelector('a-scene').addEventListener('click', function (event) {
            // Get the position where the user tapped
            var tapPosition = event.detail.intersection.point;

            // Set the marker position to the tapped position
            marker.setAttribute('position', tapPosition);
        });
    </script>
</body>
</html>
