<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AR.js Car Placement</title>
    <!-- Include A-Frame and AR.js -->
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
</head>
<body>
    <!-- Interface to show the model by default -->
    <div id="interface">
        <h1>View Car Model</h1>
        <a-scene embedded arjs="sourceType: webcam;">
            <!-- Add the car model -->
            <a-entity gltf-model="url(models/car.glb)" scale="0.05 0.05 0.05" position="0 0 -5"></a-entity>
            <!-- Add a camera to view the scene -->
            <a-entity camera></a-entity>
        </a-scene>
        <button id="arButton">Let's view in AR</button>
    </div>

    <!-- AR Scene with a placeholder and place button -->
    <div id="arScene" style="display: none;">
        <a-scene embedded arjs="sourceType: webcam;">
            <!-- Placeholder for positioning -->
            <a-marker preset="hiro">
                <a-entity position="0 0 0" geometry="primitive: cylinder; radius: 0.02; height: 0.01;" material="color: yellow;"></a-entity>
                <a-text position="0 0.03 0" value="Bully Eye" color="black"></a-text>
                <a-entity position="0 -0.1 0">
                    <a-box id="placeButton" width="0.2" height="0.1" depth="0.05" position="0 0 0.1" color="green">
                        <a-text value="Place" align="center" position="0 0 0.05"></a-text>
                    </a-box>
                </a-entity>
            </a-marker>
            <!-- Add a camera to view the scene -->
            <a-entity camera></a-entity>
        </a-scene>
    </div>

    <script>
        document.getElementById('arButton').addEventListener('click', function() {
            document.getElementById('interface').style.display = 'none';
            document.getElementById('arScene').style.display = 'block';
        });

        document.getElementById('placeButton').addEventListener('click', function() {
            var car = document.querySelector('a-entity[gltf-model]');
            var bullyEye = document.querySelector('a-marker');
            var bullyEyePosition = bullyEye.getAttribute('position');
            car.setAttribute('position', bullyEyePosition);
        });
    </script>
</body>
</html>
